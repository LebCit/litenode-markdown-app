<!DOCTYPE html>
<html lang="en">
	<!-- Include head.html -->
	<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Dynamically load description from transferred data object -->
	<meta name="description" content="Improving code block rendering with syntax highlighting using highlight.js" />

	<link rel="shortcut icon" href="/static/images/litenode-dark-transparent-logo.ico" type="image/x-icon" />

	<!-- Dynamically load title from transferred data object -->
	<title>Highlight Code | LiteNode MAT</title>

	<!-- Global Styles -->
	<link rel="stylesheet" href="/static/css/global-styles.css" />
	<link rel="stylesheet" href="/static/css/responsive-attributes-min.css" />

	
	<link rel="stylesheet" href="/static/css/tutorial.css" />
	<link rel="stylesheet" href="/static/css/a11y-dark.min.css" />
	
</head>


	<body data-sm="column gap childPad">
		<!-- Include header.html -->
		<header data-sm="2column">
	<header-left>
		<a data-sm="column" href="/">
			<img
				data-sm="middle"
				src="/static/images/litenode-dark-transparent-logo.avif"
				alt="LiteNode dark transparent logo"
			/>
		</a>
	</header-left>

	<header-right data-sm="2column gap right middle">
		<a data-sm="middle " href="/tutorial/installation">Tutorial</a>

		<a data-sm="column right" href="https://github.com/LebCit/litenode-markdown-app">
			<img data-sm="middle right" src="/static/images/github-logo.png" alt="GitHub logo" />
		</a>
	</header-right>
</header>


		<!-- Check if we are on the homepage -->
		<!-- Load the main section of the tutorial -->
		<!-- Main section for tutorial -->
<main data-sm="column">
	<mobile-menu-trigger data-sm="pad" data-lg="hide">
		<button><span>☰ Docs Menu</span></button>
		<span>▶ Installation</span>
	</mobile-menu-trigger>

	<main-menu-sidebar data-sm="column">
		<main-menu-header data-sm="2column pad" data-lg="hide">
			<h2 data-sm="left">Documentation</h2>
			<button data-sm="right"><span>✖</span></button>
		</main-menu-header>

		<main-menu-nav data-sm="pad" data-lg="noPad">
			<span id="mainMenu" hidden>[{&quot;key&quot;:&quot;Starting&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;Installation&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;installation&quot;},{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;Process&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;process&quot;},{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;First File&quot;,&quot;metadata.subCatIndex&quot;:3,&quot;href&quot;:&quot;first-file&quot;}]},{&quot;key&quot;:&quot;Structuring&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Templating&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;templating&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;One For All&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;one-for-all&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Highlight Code&quot;,&quot;metadata.subCatIndex&quot;:3,&quot;href&quot;:&quot;highlight-code&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Sliced Backend&quot;,&quot;metadata.subCatIndex&quot;:4,&quot;href&quot;:&quot;sliced-backend&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Conditionals&quot;,&quot;metadata.subCatIndex&quot;:5,&quot;href&quot;:&quot;conditionals&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Loops&quot;,&quot;metadata.subCatIndex&quot;:6,&quot;href&quot;:&quot;loops&quot;}]},{&quot;key&quot;:&quot;Styling&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Styling&quot;,&quot;metadata.catIndex&quot;:3,&quot;metadata.subcategory&quot;:&quot;CSS From HTML&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;html-attributes&quot;},{&quot;metadata.category&quot;:&quot;Styling&quot;,&quot;metadata.catIndex&quot;:3,&quot;metadata.subcategory&quot;:&quot;Islands&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;islands&quot;}]},{&quot;key&quot;:&quot;Go Static!&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Go Static!&quot;,&quot;metadata.catIndex&quot;:4,&quot;metadata.subcategory&quot;:&quot;Static Site&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;static-site&quot;}]},{&quot;key&quot;:&quot;Bonus!&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Bonus!&quot;,&quot;metadata.catIndex&quot;:5,&quot;metadata.subcategory&quot;:&quot;MD Cheat Sheet&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;markdown-cheat-sheet&quot;}]}]</span>
			
			<details open>
				<summary>Starting</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/installation">Installation</a>
						</li>
						
						<li>
							<a href="/tutorial/process">Process</a>
						</li>
						
						<li>
							<a href="/tutorial/first-file">First File</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Structuring</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/templating">Templating</a>
						</li>
						
						<li>
							<a href="/tutorial/one-for-all">One For All</a>
						</li>
						
						<li>
							<a href="/tutorial/highlight-code">Highlight Code</a>
						</li>
						
						<li>
							<a href="/tutorial/sliced-backend">Sliced Backend</a>
						</li>
						
						<li>
							<a href="/tutorial/conditionals">Conditionals</a>
						</li>
						
						<li>
							<a href="/tutorial/loops">Loops</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Styling</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/html-attributes">CSS From HTML</a>
						</li>
						
						<li>
							<a href="/tutorial/islands">Islands</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Go Static!</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/static-site">Static Site</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Bonus!</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/markdown-cheat-sheet">MD Cheat Sheet</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
		</main-menu-nav>
	</main-menu-sidebar>

	<main-content data-lg="pad"><h1>Highlight Code</h1>

<p>You might wonder how code highlighting fits into structuring our application. In this section, we&#39;ll leverage the static assets folder to enhance our frontend. This folder allows us to seamlessly load images, scripts, and styles, ensuring our application&#39;s frontend is both functional and visually appealing.</p>
<h2 id="static-assets">Static Assets</h2>

<p>Static assets are essential in web development, enhancing both functionality and aesthetics. These assets typically include images, stylesheets (CSS), scripts (JavaScript), fonts, and other files that are served directly to the client&#39;s browser without any processing by the server. Unlike dynamic content generated on-the-fly, static assets remain unchanged unless manually updated or replaced.</p>
<p>Integrating static assets efficiently can significantly improve the user experience by optimizing page load times, enabling visual enhancements, and facilitating interactive functionalities. This section explores how to effectively utilize and manage static assets using <a href="https://litenode.pages.dev/docs/serving-static-files/">LiteNode&#39;s feature to serve static files</a>.</p>
<h2 id="static-directory">Static Directory</h2>

<p>LiteNode uses a <code>static</code> directory by default for serving static files. You can customize this by specifying a different name during initialization. For instance, if you prefer using a directory named <code>public</code> instead of the default <code>static</code>, you can simply initialize LiteNode as follows:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LiteNode</span>(<span class="hljs-string">&quot;public&quot;</span>)
</code></pre><p>We&#39;ll stick with the default option and create a <code>static</code> directory at the root of our application.<br>
Additionally, we&#39;ll create three folders within the <code>static</code> directory:</p>
<ul>
<li><code>images</code>: This folder will store image files to be loaded later on.</li>
<li><code>js</code>: Here, we&#39;ll store JavaScript files for our scripts.</li>
<li><code>css</code>: This folder will hold stylesheets that we&#39;ll use shortly.</li>
</ul>
<p>Here is the directory structure representing the <code>static</code> folder within our application:</p>
<pre><code class="hljs language-txt">📂 litenode-markdown-app (root directory)
└── 📂 static (static assets directory)
    ├── 📂 css (stylesheets directory)
    ├── 📂 images (images directory)
    └── 📂 js (scripts directory)
</code></pre><h2 id="highlight-scripts">Highlight Scripts</h2>

<p>Before we load the stylesheet to highlight code blocks, let&#39;s include the necessary markup with the following installed modules:</p>
<ul>
<li><code>highlight.js</code></li>
<li><code>marked-highlight</code></li>
</ul>
<p>To achieve this, we&#39;ll modify <code>index.js</code> by replacing:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { marked } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;marked&quot;</span>
</code></pre><p>with the following code:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Marked</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;marked&quot;</span>
<span class="hljs-keyword">import</span> hljs <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;highlight.js/lib/core&quot;</span>
<span class="hljs-keyword">import</span> { markedHighlight } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;marked-highlight&quot;</span>

<span class="hljs-comment">/**
 * It is more efficient to import only the library and register the languages we need
 * 1. List of languages to import and register
 * 2. Function to register Highlight.js languages asynchronously
 */</span>
<span class="hljs-keyword">const</span> languages = [<span class="hljs-string">&quot;bash&quot;</span>, <span class="hljs-string">&quot;javascript&quot;</span>, <span class="hljs-string">&quot;plaintext&quot;</span>] <span class="hljs-comment">// 1</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">registerLanguages</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> lang <span class="hljs-keyword">of</span> languages) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">`highlight.js/lib/languages/<span class="hljs-subst">${lang}</span>`</span>)
            hljs.<span class="hljs-title function_">registerLanguage</span>(lang, <span class="hljs-variable language_">module</span>.<span class="hljs-property">default</span>)
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to import <span class="hljs-subst">${lang}</span> language module`</span>, error)
        }
    }
} <span class="hljs-comment">// 2</span>

<span class="hljs-comment">// Call the async function to register languages</span>
<span class="hljs-title function_">registerLanguages</span>()

<span class="hljs-comment">// Configuring marked with markedHighlight</span>
<span class="hljs-keyword">const</span> marked = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Marked</span>(
    <span class="hljs-title function_">markedHighlight</span>({
        <span class="hljs-attr">langPrefix</span>: <span class="hljs-string">&quot;hljs language-&quot;</span>,
        <span class="hljs-title function_">highlight</span>(<span class="hljs-params">code, lang, info</span>) {
            <span class="hljs-comment">// Check if the language is registered, otherwise default to plaintext</span>
            <span class="hljs-keyword">const</span> language = hljs.<span class="hljs-title function_">getLanguage</span>(lang) ? lang : <span class="hljs-string">&quot;plaintext&quot;</span>

            <span class="hljs-comment">// Transform code to highlighted HTML</span>
            <span class="hljs-keyword">return</span> hljs.<span class="hljs-title function_">highlight</span>(code, { language }).<span class="hljs-property">value</span>
        },
    })
)
</code></pre><p>This code sets up Markdown rendering with code highlighting using <code>marked</code>, <code>highlight.js</code>, and <code>marked-highlight</code> modules.</p>
<ol>
<li><p><strong>Imports:</strong></p>
<ul>
<li><code>Marked</code>: The Marked class.</li>
<li><code>hljs</code>: Core functionality of <code>highlight.js</code>.</li>
<li><code>markedHighlight</code>: Plugin for <code>marked</code> that enhances it with syntax highlighting capabilities.</li>
</ul>
</li>
<li><p><strong>List of Languages:</strong></p>
<ul>
<li><code>languages</code>: Array listing languages for syntax highlighting. Each language&#39;s module is dynamically imported from <code>highlight.js</code>.</li>
<li>For a comprehensive list of languages supported by Highlight.js, including their corresponding classes and aliases, refer to the <a href="https://github.com/highlightjs/highlight.js/blob/main/SUPPORTED_LANGUAGES.md">SUPPORTED LANGUAGES</a> file.</li>
</ul>
</li>
<li><p><strong>Register Languages Function (<code>registerLanguages</code>):</strong></p>
<ul>
<li>Asynchronously registers languages with <code>highlight.js</code> using dynamic imports.</li>
</ul>
</li>
<li><p><strong>Async Function Invocation:</strong></p>
<ul>
<li><code>registerLanguages()</code> initiates language registration upon script execution.</li>
</ul>
</li>
<li><p><strong>Configuring <code>marked</code> with <code>markedHighlight</code>:</strong></p>
<ul>
<li>Instantiates <code>marked</code> with <code>markedHighlight</code>, configuring options like <code>langPrefix</code> and a custom <code>highlight</code> function.</li>
</ul>
</li>
</ol>
<p>This setup ensures that Markdown content with code blocks is highlighted using <code>highlight.js</code>, making it more readable and visually appealing.</p>
<p>Alternatively, we could have retained the original <code>index.js</code> setup, loading <code>highlight.js</code> directly in the browser. However, I prefer server-side handling to minimize client-side responsibilities.</p>
<h2 id="highlight-styles">Highlight Styles</h2>

<p>With the code blocks ready for highlighting, let&#39;s choose and load a stylesheet that suits your needs. You can preview the appearance of all available highlighting styles on the <a href="https://highlightjs.org/demo">demo page of highlight.js</a>. Once you&#39;ve decided on a style, you have a couple of options to integrate it into your project:</p>
<ol>
<li><p><strong>Using a CDN:</strong></p>
<ul>
<li>Copy the HTML link from the <a href="https://www.jsdelivr.com/package/npm/highlight.js?tab=files&path=styles">highlight.js styles directory on JSDELIVR</a> and add it to your <code>head.html</code>.</li>
</ul>
</li>
<li><p><strong>Local Integration:</strong></p>
<ul>
<li>Alternatively, you can click on the chosen style, copy (<code>Ctrl + A</code> then <code>Ctrl + C</code>) its content, and paste it (<code>Ctrl + V</code>) into your local CSS file to load without relying on a <a href="https://en.wikipedia.org/wiki/Content_delivery_network">CDN</a>.</li>
</ul>
</li>
</ol>
<p>We will copy and paste the content of <a href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/a11y-dark.min.css">a11y-dark.min.css</a> into a file named <code>a11y-dark.min.css</code>, which we&#39;ll create inside the <code>css</code> folder located within the <code>static</code> directory.</p>
<p>To use this stylesheet, all we ave to do is to load it in <code>head.html</code> like so:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- Dynamically load description from transferred data object --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;description&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;{{description}}&quot;</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- Dynamically load title from transferred data object --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>{{title}} | LiteNode MAT<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Load highlighting stylesheet file --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/static/css/a11y-dark.min.css&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre><ol>
<li><p><strong><code>&lt;link&gt;</code> Element:</strong></p>
<ul>
<li>The <code>&lt;link&gt;</code> element is an HTML tag used to define a link between a document and an external resource. In this case, it specifies that the document should link to an external stylesheet.</li>
</ul>
</li>
<li><p><strong>Attributes of the <code>&lt;link&gt;</code> Element:</strong></p>
<ul>
<li><code>rel=&quot;stylesheet&quot;</code>: Specifies the relationship between the current document and the linked resource, indicating that it is a stylesheet.</li>
<li><code>href=&quot;/static/css/a11y-dark.min.css&quot;</code>: Specifies the URL (or path) to the external stylesheet file. Here, <code>/static/css/a11y-dark.min.css</code> is the path relative to the root of the web server.</li>
</ul>
</li>
<li><p><strong>Purpose:</strong></p>
<ul>
<li>When a web browser encounters this <code>&lt;link&gt;</code> element, it fetches the content of the <code>a11y-dark.min.css</code> file from the specified location (<code>/static/css/a11y-dark.min.css</code>). Once fetched, the browser applies the styles defined in the CSS file to the HTML document, affecting the visual appearance of elements on the webpage.</li>
</ul>
</li>
</ol>
<p>Finally, <a href="/tutorial/one-for-all#restart-server">restart your server</a> and check each Markdown file route to see your highlighted code blocks in action. Enjoy!</p>
<h2 id="next">Next</h2>

<p>Now that our code blocks are highlighted by injecting the necessary markup from the backend and applying the desired highlight style on the frontend via a stylesheet using LiteNode&#39;s static assets loader, we can move forward to our next objective. Upon closer inspection of <code>index.js</code>, you&#39;ll notice it&#39;s already growing significantly with just two routes. Imagine managing 10 or more routes; it would become unwieldy and hard to maintain. Therefore, in the next section on structuring our application, we&#39;ll explore how to modularize our backend code into reusable components, akin to what we&#39;ve achieved with our frontend templates. Head over to <a href="/tutorial/sliced-backend">Sliced Backend</a> to delve into the art of organizing your backend into reusable components and <strong>maintaining a scalable architecture</strong>.</p>
</main-content>

	<toc-sidebar data-sm="hide" data-lg="show">
		
		<toc-nav>
			<h2>Content</h2>
			<ul><li><a href="#static-assets">Static Assets</a><li><a href="#static-directory">Static Directory</a><li><a href="#highlight-scripts">Highlight Scripts</a><li><a href="#highlight-styles">Highlight Styles</a><li><a href="#next">Next</a></ul>
		</toc-nav>
		
	</toc-sidebar>
</main>

		<!-- End and close checking logic -->

		<!-- Include footer.html -->
		<footer data-sm="column gap" data-lg="3column noGap">
	<footer-copyright data-sm="2column gap center" data-lg="left">
		<litenode-logo>
			<img src="/static/images/litenode-dark-transparent-logo.avif" alt="LiteNode dark transparent logo" />
		</litenode-logo>

		<p>
			Built with ❤️ by
			<a href="https://lebcit.github.io/">LebCit</a>
			<br />
			Code licensed MIT
		</p>
	</footer-copyright>

	<hr data-sm="center" data-lg="hide" />

	<footer-credits data-sm="center">
		<p>
			Tutorial proudly created with:
			<credits-links data-sm="column">
				<a href="https://www.npmjs.com/package/litenode" data-sm="left">LiteNode</a>

				<a href="https://responsive-attributes-generator.pages.dev/" data-sm="left">Responsive Attributes</a>

				<a href="https://www.colorsandfonts.com/atlassian-color-system/" data-sm="left">
					Atlassian Color System
				</a>
			</credits-links>
		</p>
	</footer-credits>

	<hr data-sm="center" data-lg="hide" />

	<footer-about data-sm="center" data-lg="right">
		<p>
			Autodidactic Web Developer.
			<br />
			Love to Read, Learn &amp; DIMySelf!
		</p>

		<a href="https://lebcit.github.io/pages/about/">Short story of my dev journey</a>
	</footer-about>
</footer>


		<!-- Load needed script depending on actual route -->
		
		<script type="module" src="/static/js/tutorial.js"></script>
		
	</body>
</html>
