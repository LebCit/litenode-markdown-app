<!DOCTYPE html>
<html lang="en">
	<!-- Include head.html -->
	<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- Dynamically load description from transferred data object -->
	<meta name="description" content="Using loops to dynamically generate content in templates for a scalable architecture" />

	<link rel="shortcut icon" href="/static/images/litenode-dark-transparent-logo.ico" type="image/x-icon" />

	<!-- Dynamically load title from transferred data object -->
	<title>Loops | LiteNode MAT</title>

	<!-- Global Styles -->
	<link rel="stylesheet" href="/static/css/global-styles.css" />
	<link rel="stylesheet" href="/static/css/responsive-attributes-min.css" />

	
	<link rel="stylesheet" href="/static/css/tutorial.css" />
	<link rel="stylesheet" href="/static/css/a11y-dark.min.css" />
	
</head>


	<body data-sm="column gap childPad">
		<!-- Include header.html -->
		<header data-sm="2column">
	<header-left>
		<a data-sm="column" href="/">
			<img
				data-sm="middle"
				src="/static/images/litenode-dark-transparent-logo.avif"
				alt="LiteNode dark transparent logo"
			/>
		</a>
	</header-left>

	<header-right data-sm="2column gap right middle">
		<a data-sm="middle " href="/tutorial/installation">Tutorial</a>

		<a data-sm="column right" href="https://github.com/LebCit/litenode-markdown-app">
			<img data-sm="middle right" src="/static/images/github-logo.png" alt="GitHub logo" />
		</a>
	</header-right>
</header>


		<!-- Check if we are on the homepage -->
		<!-- Load the main section of the tutorial -->
		<!-- Main section for tutorial -->
<main data-sm="column">
	<mobile-menu-trigger data-sm="pad" data-lg="hide">
		<button><span>☰ Docs Menu</span></button>
		<span>▶ Installation</span>
	</mobile-menu-trigger>

	<main-menu-sidebar data-sm="column">
		<main-menu-header data-sm="2column pad" data-lg="hide">
			<h2 data-sm="left">Documentation</h2>
			<button data-sm="right"><span>✖</span></button>
		</main-menu-header>

		<main-menu-nav data-sm="pad" data-lg="noPad">
			<span id="mainMenu" hidden>[{&quot;key&quot;:&quot;Starting&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;Installation&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;installation&quot;},{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;Process&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;process&quot;},{&quot;metadata.category&quot;:&quot;Starting&quot;,&quot;metadata.catIndex&quot;:1,&quot;metadata.subcategory&quot;:&quot;First File&quot;,&quot;metadata.subCatIndex&quot;:3,&quot;href&quot;:&quot;first-file&quot;}]},{&quot;key&quot;:&quot;Structuring&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Templating&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;templating&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;One For All&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;one-for-all&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Highlight Code&quot;,&quot;metadata.subCatIndex&quot;:3,&quot;href&quot;:&quot;highlight-code&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Sliced Backend&quot;,&quot;metadata.subCatIndex&quot;:4,&quot;href&quot;:&quot;sliced-backend&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Conditionals&quot;,&quot;metadata.subCatIndex&quot;:5,&quot;href&quot;:&quot;conditionals&quot;},{&quot;metadata.category&quot;:&quot;Structuring&quot;,&quot;metadata.catIndex&quot;:2,&quot;metadata.subcategory&quot;:&quot;Loops&quot;,&quot;metadata.subCatIndex&quot;:6,&quot;href&quot;:&quot;loops&quot;}]},{&quot;key&quot;:&quot;Styling&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Styling&quot;,&quot;metadata.catIndex&quot;:3,&quot;metadata.subcategory&quot;:&quot;CSS From HTML&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;html-attributes&quot;},{&quot;metadata.category&quot;:&quot;Styling&quot;,&quot;metadata.catIndex&quot;:3,&quot;metadata.subcategory&quot;:&quot;Islands&quot;,&quot;metadata.subCatIndex&quot;:2,&quot;href&quot;:&quot;islands&quot;}]},{&quot;key&quot;:&quot;Go Static!&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Go Static!&quot;,&quot;metadata.catIndex&quot;:4,&quot;metadata.subcategory&quot;:&quot;Static Site&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;static-site&quot;}]},{&quot;key&quot;:&quot;Bonus!&quot;,&quot;value&quot;:[{&quot;metadata.category&quot;:&quot;Bonus!&quot;,&quot;metadata.catIndex&quot;:5,&quot;metadata.subcategory&quot;:&quot;MD Cheat Sheet&quot;,&quot;metadata.subCatIndex&quot;:1,&quot;href&quot;:&quot;markdown-cheat-sheet&quot;}]}]</span>
			
			<details open>
				<summary>Starting</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/installation">Installation</a>
						</li>
						
						<li>
							<a href="/tutorial/process">Process</a>
						</li>
						
						<li>
							<a href="/tutorial/first-file">First File</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Structuring</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/templating">Templating</a>
						</li>
						
						<li>
							<a href="/tutorial/one-for-all">One For All</a>
						</li>
						
						<li>
							<a href="/tutorial/highlight-code">Highlight Code</a>
						</li>
						
						<li>
							<a href="/tutorial/sliced-backend">Sliced Backend</a>
						</li>
						
						<li>
							<a href="/tutorial/conditionals">Conditionals</a>
						</li>
						
						<li>
							<a href="/tutorial/loops">Loops</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Styling</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/html-attributes">CSS From HTML</a>
						</li>
						
						<li>
							<a href="/tutorial/islands">Islands</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Go Static!</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/static-site">Static Site</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
			<details open>
				<summary>Bonus!</summary>
				<sub-categories>
					<ul>
						
						<li>
							<a href="/tutorial/markdown-cheat-sheet">MD Cheat Sheet</a>
						</li>
						
					</ul>
				</sub-categories>
			</details>
			
		</main-menu-nav>
	</main-menu-sidebar>

	<main-content data-lg="pad"><h1>Loops</h1>

<p>Loops in template engines simplify repetitive tasks and enhance code reusability, making templates more efficient and maintainable. By iterating over data structures such as arrays or objects, loops allow templates to dynamically render content based on the provided data. This capability reduces redundancy in code by eliminating the need for manual repetition, thereby improving maintainability and reducing the chances of errors. Additionally, loops enable templates to handle varying amounts of data gracefully, adapting to changes in input size or content effortlessly. This flexibility not only streamlines development but also enhances the scalability of applications, making template engines a powerful tool for efficient web and application development.</p>
<h2 id="each">Each</h2>

<p>LiteNode&#39;s Simple Template Engine (<a href="https://litenode.pages.dev/docs/rendering-templates/">STE</a>) provides the powerful <a href="https://litenode.pages.dev/docs/ste-helpers/#each">{{#each}}</a> directive, enhancing templating in Node.js applications. Firstly, it simplifies the rendering of arrays by automatically iterating through each item and including specified content for each iteration, reducing the need for manual looping in application code. This streamlines development and improves code readability. Secondly, for arrays of objects, <code>{{#each}}</code> supports dot notation to access object properties directly within the template, facilitating dynamic content rendering based on object attributes. This flexibility enables developers to easily display complex data structures without extensive preprocessing. Moreover, STE&#39;s <code>{{#each}}</code> directive supports nested loops seamlessly, allowing developers to handle multi-level data structures with ease. Nested <code>{{#each}}</code> directives incrementally manage inner loops, maintaining clarity and organization within the template code. Overall, LiteNode&#39;s Simple Template Engine with its <code>{{#each}}</code> directive empowers developers to efficiently generate dynamic HTML content from arrays and objects, making it a robust choice for Node.js web applications needing scalable and maintainable templating solutions.</p>
<h2 id="generating-menu">Generating Menu</h2>

<p>We&#39;ll use LiteNode&#39;s <a href="https://litenode.pages.dev/docs/markdown/#extract-markdown-properties">extractMarkdownProperties</a> method to dynamically generate a menu from our page titles. This function retrieves an array of properties that we&#39;ll integrate into the data object for our templates. Using the <code>{{#each}}</code> directive, we can precisely control how this array is rendered, ensuring each page title is displayed as desired in the menu interface.</p>
<h3 id="entryroute-js">entryRoute.js</h3>

<pre><code class="hljs language-js"><span class="hljs-comment">// Before:</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>)=&gt;</span>{...})

<span class="hljs-comment">// Render index.html with assigned data object</span>
res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&quot;layouts/index.html&quot;</span>, { title, description, html_content, <span class="hljs-attr">entryRoute</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// After:</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-keyword">async</span> (req, res)=&gt;{...})

<span class="hljs-comment">// Generate an array of title objects from markdown files</span>
<span class="hljs-keyword">const</span> titles = <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">extractMarkdownProperties</span>(<span class="hljs-string">&quot;pages&quot;</span>, [<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;href&quot;</span>])
titles.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> (a.<span class="hljs-property">title</span> &lt; b.<span class="hljs-property">title</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>))

<span class="hljs-comment">// Render index.html with assigned data object including titles</span>
res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&quot;layouts/index.html&quot;</span>, { title, description, html_content, <span class="hljs-attr">entryRoute</span>: <span class="hljs-literal">true</span>, titles })
</code></pre><h3 id="pageroute-js">pageRoute.js</h3>

<pre><code class="hljs language-js"><span class="hljs-comment">// Before:</span>
<span class="hljs-comment">// Parse the Markdown files in the &quot;pages&quot; directory with LiteNode&#x27;s parseMarkdownFileS method</span>
<span class="hljs-keyword">const</span> parsedMarkdownFiles = <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">parseMarkdownFileS</span>(<span class="hljs-string">&quot;pages&quot;</span>)
...
<span class="hljs-comment">// Render index.html with assigned data object</span>
res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&quot;layouts/index.html&quot;</span>, { title, description, html_content, <span class="hljs-attr">pageRoute</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// After:</span>
<span class="hljs-comment">// Parse the Markdown files in the &quot;pages&quot; directory with LiteNode&#x27;s parseMarkdownFileS method</span>
<span class="hljs-keyword">const</span> parsedMarkdownFiles = <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">parseMarkdownFileS</span>(<span class="hljs-string">&quot;pages&quot;</span>)
<span class="hljs-comment">// Generate an array of title objects from parsed markdown files</span>
<span class="hljs-keyword">const</span> titles = <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">extractMarkdownProperties</span>(parsedMarkdownFiles, [<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;href&quot;</span>])
titles.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> (a.<span class="hljs-property">title</span> &lt; b.<span class="hljs-property">title</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">1</span>))
...
<span class="hljs-comment">// Render index.html with assigned data object including titles</span>
res.<span class="hljs-title function_">render</span>(<span class="hljs-string">&quot;layouts/index.html&quot;</span>, { title, description, html_content, <span class="hljs-attr">pageRoute</span>: <span class="hljs-literal">true</span>, titles })
</code></pre><h3 id="explanation">Explanation</h3>

<ol>
<li><p><strong>Enhancement Purpose</strong>: Both <code>entryRoute.js</code> and <code>pageRoute.js</code> now use LiteNode&#39;s <code>extractMarkdownProperties</code> to get an array of title and href objects from markdown files. This array (<code>titles</code>) is then passed into the data object for rendering <code>index.html</code>.</p>
</li>
<li><p><strong>Flexibility</strong>: The <code>extractMarkdownProperties</code> method can accept either a directory path (<code>&quot;pages&quot;</code>) or an array of pre-parsed markdown files (<code>parsedMarkdownFiles</code>). This flexibility allows you to adapt the method based on your needs and existing code structure.</p>
</li>
<li><p><strong>Data Structure</strong>: The <code>titles</code> array contains objects with a <code>title</code> and <code>href</code> properties extracted from each markdown file&#39;s frontmatter. As noted, these titles are returned in alphabetical order.</p>
</li>
<li><p><strong>Sorting by Index</strong>: If you want to order the titles based on an <code>index</code> property in the frontmatter, you can enhance your markdown files with an <code>index</code> field. For instance:</p>
<pre><code class="hljs language-markdown">---
title: Basic Usage
href: &quot;basic-usage&quot;
<span class="hljs-section">index: 2
---</span>
</code></pre><p> Then, modify your <code>extractMarkdownProperties</code> call to include the <code>&quot;index&quot;</code> field in addition to <code>&quot;title&quot;</code>, and sort the <code>titles</code> array based on the <code>index</code> value. Here’s how you could modify it:</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Generate an array of title and href objects including index from parsed markdown files</span>
<span class="hljs-keyword">const</span> titles = <span class="hljs-keyword">await</span> app.<span class="hljs-title function_">extractMarkdownProperties</span>(parsedMarkdownFiles, [<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;href&quot;</span>, <span class="hljs-string">&quot;index&quot;</span>])

<span class="hljs-comment">// Sort titles array based on index</span>
titles.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> (a.<span class="hljs-property">index</span> &gt; b.<span class="hljs-property">index</span> ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>))
</code></pre></li>
</ol>
<p>For the sake of simplicity in this tutorial, I will use the <code>titles</code> array sorted alphabetically. Feel free to try the suggested enhancement as an exercise.</p>
<h3 id="header-html">header.html</h3>

<p>Let&#39;s create our menu in <code>header.html</code> under the main heading tag like this:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome LiteNode&#x27;s Explorer<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">header-menu</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/&quot;</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

        {{#each titles}}
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/page/{{href}}&quot;</span>&gt;</span>{{title}}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        {{/each}}
    <span class="hljs-tag">&lt;/<span class="hljs-name">header-menu</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
</code></pre><p>If you&#39;re curious about the origin of the <code>&lt;header-menu&gt;</code> tag, you can explore more about <a href="https://matthewjamestaylor.com/custom-tags">Custom HTML Tags</a> and find practical examples in <a href="https://matthewjamestaylor.com/custom-element-examples">Custom Element Examples</a>. These resources delve into how custom tags can be defined and utilized to enhance HTML with specialized components and functionalities.</p>
<p><a href="/tutorial/one-for-all#restart-server">Restart your server</a> and start exploring your app with ease using the newly created menu.</p>
<h2 id="conclusion">Conclusion</h2>

<p>Creating the menu was a breeze with LiteNode&#39;s easy array generation from frontmatter and the powerful <code>{{#each}}</code> directive in STE!</p>
<h2 id="next">Next</h2>

<p>Next, we&#39;ll dive into <a href="/tutorial/html-attributes">Styling</a> the application to make it responsive without using frontend frameworks. We&#39;ll also explore the <a href="https://jasonformat.com/islands-architecture/">Islands Architecture</a> and how to utilize frontmatter properties directly in Markdown files. Stay tuned!</p>
</main-content>

	<toc-sidebar data-sm="hide" data-lg="show">
		
		<toc-nav>
			<h2>Content</h2>
			<ul><li><a href="#each">Each</a><li><a href="#generating-menu">Generating Menu</a><ul><li><a href="#entryroute-js">entryRoute.js</a><li><a href="#pageroute-js">pageRoute.js</a><li><a href="#explanation">Explanation</a><li><a href="#header-html">header.html</a></ul></li><li><a href="#conclusion">Conclusion</a><li><a href="#next">Next</a></ul>
		</toc-nav>
		
	</toc-sidebar>
</main>

		<!-- End and close checking logic -->

		<!-- Include footer.html -->
		<footer data-sm="column gap" data-lg="3column noGap">
	<footer-copyright data-sm="2column gap center" data-lg="left">
		<litenode-logo>
			<img src="/static/images/litenode-dark-transparent-logo.avif" alt="LiteNode dark transparent logo" />
		</litenode-logo>

		<p>
			Built with ❤️ by
			<a href="https://lebcit.github.io/">LebCit</a>
			<br />
			Code licensed MIT
		</p>
	</footer-copyright>

	<hr data-sm="center" data-lg="hide" />

	<footer-credits data-sm="center">
		<p>
			Tutorial proudly created with:
			<credits-links data-sm="column">
				<a href="https://www.npmjs.com/package/litenode" data-sm="left">LiteNode</a>

				<a href="https://responsive-attributes-generator.pages.dev/" data-sm="left">Responsive Attributes</a>

				<a href="https://www.colorsandfonts.com/atlassian-color-system/" data-sm="left">
					Atlassian Color System
				</a>
			</credits-links>
		</p>
	</footer-credits>

	<hr data-sm="center" data-lg="hide" />

	<footer-about data-sm="center" data-lg="right">
		<p>
			Autodidactic Web Developer.
			<br />
			Love to Read, Learn &amp; DIMySelf!
		</p>

		<a href="https://lebcit.github.io/pages/about/">Short story of my dev journey</a>
	</footer-about>
</footer>


		<!-- Load needed script depending on actual route -->
		
		<script type="module" src="/static/js/tutorial.js"></script>
		
	</body>
</html>
